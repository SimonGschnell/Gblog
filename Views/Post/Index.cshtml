@model IEnumerable<Post>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Posts";
}

<a asp-action="Create" >Create Post</a>
<h2> Posts: </h2>


<div class="d-flex flex-column">
    @if (Model.Count() == 0)
    {
        <p>Currently there are no Posts available ..</p>
    }
    @foreach(var post in Model)
    {
        <div class="card text-center">
            <div class="card-header">
                @Html.DisplayFor(_ => post.Title)
                <form asp-action="Delete" method="post" onsubmit="return confirm('Are you sure you want to delete @post.Title')">
                    <input type="hidden" name="id" value="@post.ID" />
                    <button type="submit"><i class="fa-solid fa-trash"></i></button>
                </form>
            
            </div>
            <div class="card-body">
                <p>@Html.Raw(post.Content)</p>
            </div>
            <div class="card-footer text-body-secondary">
                @Html.DisplayFor(_ => post.InsertDate)
            </div>
        </div>
    }
</div>


